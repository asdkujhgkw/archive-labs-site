<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>아카이브랩스</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header>
  <div class="header-inner">
    <div class="logo">아카이브랩스</div>
    <div class="menu-toggle" onclick="toggleMenu()">☰</div>


    <nav id="mainNav" class="nav">
      <span class="nav-item">
        <a href="index.html#company" onclick="toggleSub(event)">기업소개</a>
        <div class="submenu">
          <a href="index-history.html">연혁 및 주요 사업실적</a>
          <a href="index-partners.html">주요 파트너사</a>
        </div>
      </span>

      <span class="nav-item">
        <a href="tasks.html" onclick="toggleSub(event)">수행과업</a>
        <div class="submenu">
          <a href="tasks-government.html">정부용역 보고서</a>
          <a href="tasks-consulting.html">논문 컨설팅</a>
        </div>
      </span>

      <span class="nav-item">
        <a href="contact.html" onclick="toggleSub(event)">Contact</a>
        <div class="submenu">
          <a href="contact-info.html">연락처</a>
          <a href="contact-qna.html">1:1 질문</a>
          <a href="contact-map.html">오시는 길</a>
        </div>
      </span>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="hero-content">
    <h1>
      공공의 질문에<br>
      <span class="gold">정밀한 답</span>을 제공합니다
    </h1>
    <p>공공분야 조사용역 전문 기관, 아카이브랩스</p>

    <div class="hero-actions">
      <a class="btn btn-primary" href="tasks.html">수행과업 보기</a>
      <a class="btn" href="index.html#company">기업소개</a>
      <a class="btn" href="contact-qna.html">1:1 문의</a>
    </div>
  </div>
</section>

<div class="container">

  <div class="card" id="company">
    <h2>기업소개</h2>
    <p>
      아카이브랩스는 공공기관의 의사결정을 지원하기 위해 신뢰도 높은 조사와 분석을 수행하는
      <span class="gold">공공분야 조사용역</span> 전문 기관입니다.
    </p>
    <p>
      정책수요 조사, 만족도/실태조사, 이해관계자 의견수렴(면접·FGI), 성과지표 설계 및 성과평가까지
      전 과정을 체계적으로 제공합니다.
    </p>
    <p style="margin-top:14px;">
      <a class="btn" href="index-history.html">연혁 및 주요 사업실적</a>
      <a class="btn" href="index-partners.html">주요 파트너사</a>
    </p>
  </div>

  <div class="image-grid">
    <div class="image-card">
      <img src="images/research.jpg" alt="조사">
      <div class="pad">
        <h3>조사 설계</h3>
        <p>정책 목적에 맞는 조사·설문·FGI 설계</p>
      </div>
    </div>

    <div class="image-card">
      <img src="images/data.jpg" alt="분석">
      <div class="pad">
        <h3>데이터 분석</h3>
        <p>정량·정성 데이터를 기반으로 한 분석</p>
      </div>
    </div>

    <div class="image-card">
      <img src="images/report.jpg" alt="보고서">
      <div class="pad">
        <h3>성과 평가</h3>
        <p>정책 및 사업 성과 평가와 보고서 작성</p>
      </div>
    </div>
  </div>

</div>

<footer>© 2026 Archive Labs. All rights reserved.</footer>

<script>
function toggleMenu() {
  const nav = document.getElementById("mainNav");
  if (!nav) return;
  nav.classList.toggle("active");
}

function toggleSub(e) {
  if (window.innerWidth > 980) return;
  e.preventDefault();
  const item = e.target.closest(".nav-item");
  if (item) item.classList.toggle("open");
}

/* ====== Header compact on scroll ====== */
(function headerCompact(){
  const header = document.querySelector("header");
  if (!header) return;
  const onScroll = () => header.classList.toggle("compact", window.scrollY > 10);
  window.addEventListener("scroll", onScroll, { passive: true });
  onScroll();
})();

/* ====== Active nav (page + section) ====== */
(function setActiveNav(){
  const navRoot = document.getElementById("mainNav");
  if (!navRoot) return;

  const path = location.pathname.split("/").pop() || "index.html";
  const hash = location.hash;

  const links = navRoot.querySelectorAll("a");
  links.forEach(a => a.classList.remove("active"));

  // 1) current page
  links.forEach(a => {
    const href = a.getAttribute("href") || "";
    const file = href.split("#")[0];
    if (file && file === path) a.classList.add("active");
  });

  // 2) hash specific
  if (hash) {
    links.forEach(a => {
      const href = a.getAttribute("href") || "";
      if (href.includes(hash) && (href.split("#")[0] === "" || href.split("#")[0] === path)) {
        a.classList.add("active");
      }
    });
  }

  // 3) section tracking (pages that have ids matching top links)
  const sections = document.querySelectorAll("section[id], .card[id]");
  if (!sections.length) return;

  const topLinks = Array.from(navRoot.querySelectorAll(".nav-item > a"));
  const idToLink = new Map();
  topLinks.forEach(a => {
    const href = a.getAttribute("href") || "";
    if (!href.includes("#")) return;
    const file = href.split("#")[0] || path;
    const id = href.split("#")[1];
    if (file === path && id) idToLink.set(id, a);
  });

  if (!idToLink.size) return;

  const io = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (!entry.isIntersecting) return;
      const a = idToLink.get(entry.target.id);
      if (!a) return;
      topLinks.forEach(x => x.classList.remove("active"));
      a.classList.add("active");
    });
  }, { threshold: 0.35 });

  sections.forEach(sec => io.observe(sec));
})();

/* ====== Close mobile menu when clicking outside ====== */
(function closeOnOutsideClick(){
  const nav = document.getElementById("mainNav");
  const toggle = document.querySelector(".menu-toggle");
  if (!nav || !toggle) return;

  document.addEventListener("click", (e) => {
    if (window.innerWidth > 980) return;
    if (!nav.classList.contains("active")) return;

    const insideNav = nav.contains(e.target);
    const insideToggle = toggle.contains(e.target);
    if (!insideNav && !insideToggle) {
      nav.classList.remove("active");
      document.querySelectorAll(".nav-item.open").forEach(x => x.classList.remove("open"));
    }
  });
})();
</script>
</body>
</html>
